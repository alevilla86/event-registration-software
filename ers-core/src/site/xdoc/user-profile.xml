<?xml version="1.0" encoding="UTF-8"?>
<document xmlns="http://maven.apache.org/XDOC/2.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/XDOC/2.0 http://maven.apache.org/xsd/xdoc-2.0.xsd">

    <properties>
        <title>User-Profile REST services</title>
    </properties>
    
    <body>
        
        <section name="Index">
            <macro name="toc">
                <param name="section" value="0" />
                <param name="fromDepth" value="0" />
                <param name="toDepth" value="1" />
            </macro>
        </section>
        
        <section name="General">
            <p>
                User profile required fields:
                <ul>
                    <li>governmentId</li>
                    <li>hand: LEFT | RIGHT</li>
                    <li>dateBirth</li>
                    <li>age</li>
                    <li>phone</li>
                    <li>genre: MALE | FEMALE</li>
                    <li>country</li>
                    <li>emergencyContactName</li>
                    <li>emergencyContactPhone</li>
                    <li>shirtSize: XS | S | M | L | XL | XL2</li>
                    <li>role: for USER and ORGANIZER user types</li>
                    <li>category: for USER user type</li>
                </ul>
            </p>
        </section>
        
        <section name="Update user profile">
            <p>
                Updates the user profile of the logged user.
            </p>
            <subsection name="Request">
                <ul>
                    <li>
                        <b>Method:</b> PUT
                    </li>
                    <li>
                        <b>URI:</b> /user-profile/
                    </li>
                    <li>
                        <b>Query Parameters:</b> none
                    </li>
                </ul>
                <source>
{
    "category": "Máster",
    "role": "Chofer",
    "governmentId": "206150888",
    "externalId": "10004548257349",
    "hand": "LEFT",
    "team": "Marisqueria Guayo - Buen Tour CR",
    "dateBirth": "1986-01-06",
    "age": 32,
    "phone": "88100452",
    "genre": "MALE",
    "weight": "73.3",
    "height": "172",
    "country": "Costa Rica",
    "state": "Guanacaste",
    "city": "Tilarán",
    "street1": null,
    "street2": null,
    "emergencyContactName": "Amalia Hernández",
    "emergencyContactPhone": "26955596",
    "shirtSize": "S"
}
                </source>
            </subsection>

            <subsection name="Response">
                <source>
{
    "userId": "1",
    "category": "Máster",
    "role": "Chofer",
    "governmentId": "206150888",
    "externalId": "10004548257349",
    "hand": "LEFT",
    "team": "Marisqueria Guayo - Buen Tour CR",
    "dateBirth": "1986-01-06T00:00:00.000+0000",
    "age": 32,
    "phone": "88100452",
    "genre": "MALE",
    "weight": "73.3",
    "height": "172",
    "country": "Costa Rica",
    "state": "Guanacaste",
    "city": "Tilarán",
    "street1": null,
    "street2": null,
    "emergencyContactName": "Amalia Hernández",
    "emergencyContactPhone": "26955596",
    "shirtSize": "S"
}                
                </source>
            </subsection>
        </section>
        
        <section name="Get user profile">
            <p>
                Retrieves the user profile of the logged user.
            </p>
            <subsection name="Request">
                <ul>
                    <li>
                        <b>Method:</b> GET
                    </li>
                    <li>
                        <b>URI:</b> /user-profile
                    </li>
                    <li>
                        <b>Query Parameters:</b> none
                    </li>
                </ul>
            </subsection>

            <subsection name="Response">
                <source>
{
    "userId": "1",
    "category": "Máster",
    "role": "Chofer",
    "governmentId": "206150888",
    "externalId": "10004548257349",
    "hand": "LEFT",
    "team": "Marisqueria Guayo - Buen Tour CR",
    "dateBirth": "1986-01-06T00:00:00.000+0000",
    "age": 32,
    "phone": "88100452",
    "genre": "MALE",
    "weight": "73.3",
    "height": "172",
    "country": "Costa Rica",
    "state": "Guanacaste",
    "city": "Tilarán",
    "street1": null,
    "street2": null,
    "emergencyContactName": "Amalia Hernández",
    "emergencyContactPhone": "26955596",
    "shirtSize": "S"
}
                </source>
            </subsection>
        </section>
        
        <section name="Upload user profile picture">
            <p>
                Uploads an user profile picture.<br/>
                A previous picture, if exists, gets replaced.<br/>
                Only <b>png</b> and <b>jpeg</b> formats are supported. 
            </p>
            <subsection name="Request">
                <ul>
                    <li>
                        Method: POST<br/>
                        Consumes: <b>multipart</b> file<br/>
                    </li>
                    <li>
                        URI: /user-profiles/picture
                    </li>
                </ul>
            </subsection>
            <subsection name="Response">
                <source>
true
                </source>
            </subsection>
        </section>


        <section name="Delete user profile picture">
            <p>
                Deletes the user profile picture.
            </p>
            <subsection name="Request">
                <ul>
                    <li>
                        Method: DELETE
                    </li>
                    <li>
                        URI: /user-profiles/picture
                    </li>
                </ul>
            </subsection>
            <subsection name="Response">
                <source>
true
                </source>
            </subsection>
        </section>


        <section name="Download user profile picture">
            <p>
                Returns the user profile picture.
            </p>
            <subsection name="Request">
                <ul>
                    <li>
                        Method: GET
                    </li>
                    <li>
                        URI: /user-profiles/{userId}/picture[?width=width&amp;height=height]
                    </li>
                    <li>
                        Query Parameters: they are optional.<br/>
                        If either width or height is not present or 0, then the original picture is returned.<br/>
                        The allowed maximum value of either one is 1024 at this time.<br/>
                        If either width or height is a negative number then the other value is substituted to maintain the aspect ratio of the original image dimensions.<br/>
                        For example, if the request is GET /user-profiles/picture?width=500&amp;height=-1, then the picture width will be 500 pixels and the height will be adjusted proportionally. 
                        <ul>
                            <li>
                                width - the pixel width of the picture
                            </li>
                            <li>
                                height - the pixel height of the picture
                            </li>
                        </ul>
                    </li>
                    <li>
                        Notes<br/>
                        If the associated profile has no picture, an empty response is returned.
                    </li>
                    
                </ul>
            </subsection>
            <subsection name="Response">
                <source>
The picture file                
                </source>
            </subsection>
        </section>


        <section name="Download user profile picture base64 encoded">
            <p>
                Returns the user profile picture base64 encoded.<br/>
            </p>
            <subsection name="Request">
                <ul>
                    <li>
                        Method: GET
                    </li>
                    <li>
                        URI: /user-profiles/{userId}/picture/base64[?width=width&amp;height=height]
                    </li>
                    <li>
                        Query Parameters: they are optional.<br/>
                        If either width or height is not present or 0, then the original picture is returned.<br/>
                        The allowed maximum value of either one is 1024 at this time.<br/>
                        If either width or height is a negative number then the other value is substituted to maintain the aspect ratio of the original image dimensions.<br/>
                        For example, if the request is GET /user-profiles/picture?width=500&amp;height=-1, then the picture width will be 500 pixels and the height will be adjusted proportionally. 
                        <ul>
                            <li>
                                width - the pixel width of the picture
                            </li>
                            <li>
                                height - the pixel height of the picture
                            </li>
                        </ul>
                    </li>
                    <li>
                        Notes<br/>
                        If the associated profile has no picture, an empty response is returned.
                    </li>
                    
                </ul>
            </subsection>
            <subsection name="Response">
                <source>
The picture file, base64 encoded
                </source>
            </subsection>
        </section>



       <section name="Verify if a user has a profile picture">
            <p>
                Verifies whether a user has a profile picture.
            </p>
            <subsection name="Request">
                <ul>
                    <li>
                        Method: GET
                    </li>
                    <li>
                        URI: /user-profiles/{userId}/has_picture
                    </li>
                    <li>
                        Path Parameters:
                        <ul>
                            <li>
                            userId - The ID of the user
                            </li>
                        </ul>
                    </li>
                </ul>
            </subsection>
            <subsection name="Response if the user has a profile picture">
                <source>
true               
                </source>
            </subsection>
            <subsection name="Response if the user doesn't have a profile picture">
                <source>
false               
                </source>
            </subsection>
        </section>
    </body>
</document>